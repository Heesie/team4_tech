<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="/styles/home.css">
    <link rel="stylesheet" href="/static/basis.css">
</head>
<body>
    <%- include('header') %>

    <section class="grid-page">
        <div class="content">
            <h1>Match & Cook: Find Your Perfect Cooking Partner!</h1>
            <p>Like your favorite recipes and match with others who share your taste. Discover delicious dishes together and cook like a pro!</p>
        </div>
    
        <img src="/images/cooking.svg" alt="Cooking illustration" class="cooking-image">
    
        <div class="actions">
            <div class="search-div">
                <form action="/recipes" method="GET">
                    <input placeholder="Search here" type="text" name="q" class="input">
                    <input type="submit" id="submit-button" value="Search">
                </form>
            </div>
    
            <a href="/recipes">
                 See all recipes
                 <svg width="20px" height="20px" viewBox="0 0 24 24" fill="#007BFF" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 12h30M20 12L14 6M20 12L14 18" stroke="#007BFF" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg></a>
        </div>
    </section>
    
    
    <section class="home-screen-h2">
        <h2>Explore random recipes</h2>
    </section>
    
                
    <section class="recipe">
        <% if (recipes && recipes.length > 0) { %> 
            <% recipes.slice(0, 5).forEach(recipe => { %>
                <div class="recipe">
                    <img src="<%= recipe.thumbnail_url || '/images/default-recipe.jpg' %>" alt="image of the recipe" class="recipe-image">
                    <h3><%= recipe.name %></h3>
                    <p class="recipe-description"><%= recipe.description || "Geen beschrijving beschikbaar" %></p>
    
                    <section class="like">
                        <input type="checkbox" id="like-checkbox-<%= recipe.id %>" class="like-checkbox">
                        <label for="like-checkbox-<%= recipe.id %>">
                            <svg width="60px" height="60px" viewBox="0 0 48 48" version="1" xmlns="http://www.w3.org/2000/svg">
                                <path d="M34,9c-4.2,0-7.9,2.1-10,5.4C21.9,11.1,18.2,9,14,9C7.4,9,2,14.4,2,21c0,11.9,22,24,22,24s22-12,22-24C46,14.4,40.6,9,34,9z"/>
                            </svg>
                        </label>
                    </section>   

                    <a href="/recipe/<%= recipe._id %>">
                        <button>Bekijk Recept</button>
                    </a>
                
                </div>
            <% }) %>
        <% } else { %>
            <p>Geen recepten gevonden.</p>
        <% } %>
    </section>





<script>
// Like notification 
const notification = document.createElement("div");

notification.className ="notification";
document.body.appendChild(notification);

function showNotification(recipeName){
    notification.textContent = `"${recipeName}" is toegevoegd aan je favorieten !`;
    notification.classList.add("show");
    setTimeout(() =>notification.classList.remove("show"), 3000 );
}


document.querySelectorAll(".like-checkbox").forEach(box => 
    box.addEventListener("change", () => {
        if (box.checked) {
            const receptName = box.closest(".recept").querySelector("h3").textContent;
            showNotification(receptName);
        }
    })
);
// like notification
</script>
</body>
</html>
