<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Favorites</title>
    <link rel="stylesheet" href="/styles/basis.css">
</head>
<body>
    
    <%- include('header') %>

    <div class="search-bar">
        <h1>Your Favorites</h1>
        <form action="/recipes" method="GET">
            <input type="text" name="q" placeholder="Search favorite" required>
            <button type="submit">Search</button>
        </form>
    </div>

    <section class="recipe-grid">
        <% if (recipes && recipes.length > 0) { %>
          <% recipes.forEach(recipe => { %>
            <div class="recipe">
              <img src="<%= recipe.thumbnail_url || '/images/default-recipe.jpg' %>" alt="image of the recipe" class="recipe-image">
              <h3><%= recipe.name %></h3>
              <!-- delete favorite button -->
              <form action="/toggle-like/<%= recipe._id %>" method="POST" class="like-form">
                <input type="hidden" name="recipeId" value="<%= recipe._id %>">
                <button type="submit" class="like-button">
                </button>
              </form>
              <a href="/recipe/<%= recipe._id %>">
                <button>Full Recipe</button>
              </a>
            </div>
          <% }) %>
        <% } else { %>
          <p>No Favorites</p>
        <% } %>
      </section>

      <style>
        /* main scherm */
        :root {
         
         --font-primary: 'Avenir', sans-serif;
         --font-secondary: 'Helvetica', sans-serif;
        
         /* colors fonts */
         --color-text:rgb(37, 37, 37);
         --color-text-white:white;
        
        
         /* backgrounds  */
         --background-page: #FFFDF7;
         --background-white: white;
        
         /* inputs */
         --color-input-border-hover: 2px solid #FF7300;
         --color-input-border: 1px solid #ccc;
        
         /* heart */
         --fill-heart-color:#ffc6c6;
         --fill-heart-color-hover:red;
        
         /* header */
         --background-color-header: #ffefca;
         --background-color-menu:#afc8a1;
         --color-text-menu-hover: #FF3D00;
         --color-text-menu: white;
         --color-text-desktop:#FF3D00;
        
        
         /* hovers */
         --background-color-hover-filter: #ffefca;
        
        /* buttons */
        --background-color-button: #578A37;
        --text-color-button:white;
        --background-color-button-hover:#2C5810;
        
        
        /* tags */
        --background-color-tag-noti:#FF3D00;
        --background-color-tag-noti-hover:#dd3400;
        
        /* border radius */
        --border-radius-small: 5px;
        --border-radius-medium: 8px;
        --border-radius-big: 10px;
        
        /* shadows */
        --box-shadow:0px 6px 24px 2px rgba(0, 0, 0, 0.2);
        
        /* links */
        --link-color-text:#007BFF;
        
        /* error */
        --error-color-text:#ff0000;
        
        /* recept cards */
        --background-recept-cards: white;
        
        }
        
        
        .recept-grid-h2{
         align-items: center;
         display: flex;
         justify-content: center;
        }
        .mainscherm-filter {
         padding: 40px;
         max-width: 800px;
         margin: auto;
        }
        
        .mainscherm-filter h1 {
         font-size: clamp(35px, 4vw, 45px);
        }
        
        
        /* Zoekbalk */
        .search-bar form {
         display: flex;
         gap: 1em;
         justify-content: center;
         align-items: center;
        }
        
        .search-bar input {
         width: 70%;
         padding: 10px;
         border-radius: var(--border-radius-small);
         border: var(--color-input-border);
         outline: none;
         transition: all 0.5s ease;
         box-shadow: var(--box-shadow);
         cursor: pointer;
        }
        
        .search-bar input:hover {
        border: var(--color-input-border-hover);
        box-shadow: var(--box-shadow);
        }
        
        .search-bar input:active {
         transform: scale(1.20);
        }
        
        .search-bar input:focus {
         border: var(--color-input-border-hover);
        }
        
        
        .search-bar input::placeholder {
         font-size: 14px;
        }
        
        .search-bar button {
         border: none;
         background-color: var(--background-color-button);
         color: var(--color-text-white);
         border-radius: var(--border-radius-small);
         cursor: pointer;
         padding: 10px 15px;
         transition: background 0.3s ease;
        }
        
        .search-bar button:hover {
         background-color: var(--background-color-button-hover);
        }
        
        /* Filter sectie */
        .filterbuttons {
         list-style-type: none;
         display: flex;
         justify-content: center;
         gap: 15px;
         padding: 20px 0;
         flex-wrap: wrap;
        }
        
        .dropdown {
         position: relative;
         display: inline-block;
        }
        
        .dropdown button {
         background-color: var(--background-color-tag-noti);
         color: var(--color-text-white);
         padding: 10px 15px;
         border: none;
         cursor: pointer;
         border-radius: var(--border-radius-medium);
         transition: background 0.3s ease;
         position: relative; /* Om het pijltje goed te kunnen positioneren */
        
        }
        
        .dropdown button:hover {
         background-color: var(--background-color-tag-noti-hover);
        }
        
        .dropdown button::after {
         content: '▼';  /* Unicode teken voor een naar beneden wijzend pijltje */
         font-size: 12px;
         margin-left: 10px;  /* Ruimte tussen tekst en pijltje */
         transition: transform 0.3s ease; /* Animatie voor pijltje */
        }
        
        .dropdown.open button::after {
         transform: rotate(180deg);
         content: '▲';/* Draai het pijltje als de dropdown 'open' is */
        }
        
        
        
        .dropdown .content {
         display: none;
         position: absolute;
         top: 100%;
         left: 0;
         min-width: 160px;
         background-color: var(--background-white);
         box-shadow: var(--box-shadow);
         border-radius: var(--border-radius-medium);
         padding: 5px 0;
         opacity: 0;
         transform: translateY(-5px);
         transition: opacity 0.3s ease, transform 0.3s ease;
         z-index: 2;
        }
        
        .dropdown .content li {
         list-style-type: none;
         padding: 0;
        }
        
        .dropdown .content a {
         display: block;
         text-decoration: none;
         padding: 10px;
         color: var(--color-text);
         transition: background 0.3s ease;
         border-radius: var(--border-radius-small);
         margin: 2px 10px;
        }
        
        .dropdown .content a:hover {
         background-color: var(--background-color-hover-filter);
        }
        
        .dropdown:focus-within .content {
         display: block;
         opacity: 1;
         transform: translateY(0);
        }
        
        /* Geselecteerde filters */
        .selected-filters {
         text-align: center;
         margin-top: 20px;
        }
        
        .selected-filters h3 {
         font-size: 18px;
         margin-bottom: 10px;
        }
        
        .selected-filters ul {
         display: flex;
         justify-content: center;
         gap: 15px;
         font-size: 14px;
         list-style: none;
         padding: 0;
         flex-wrap: wrap;
        }
        
        .selected-filters li{
         --background-color-hover-filter: #ffefca;
         padding: 10px 8px;
         box-shadow: var(--box-shadow);
         border-radius: var(--border-radius-medium);
        }
        
        .selected-filters button{
        background-color: transparent;
        border: none;
        }
        .selected-filters img{
        width: 10px;
        }
        
        
        .selected-filters {
         display: none;
        }
        
        .selected-filters li {
         display: none;
        }
        
        .recipe-grid-h2{
         align-items: center;
         display: flex;  
         justify-content: center;
        
        }
        
        /* Like functie */
        .like-form {
         position: absolute;
         top: 20px;
         right: 20px;
         z-index: 10;
        }
        
        /* Stijl voor de like-knop */
        .like-button {
         background-color: var(--background-recept-cards);
         border: none;
         cursor: pointer;
         border-radius: var(--border-radius-small);
         transition: transform 0.3s ease, fill 0.3s ease;
        }
        
        /* Standaard hartje */
        .like-button svg {
         cursor: pointer;
         width: 24px;
         height: 24px;
         fill: var(--fill-heart-color);
         transition: transform 0.3s ease, fill 0.3s ease;
         background-color: var(--background-recept-cards);
         padding: 5px;
         border-radius: var(--border-radius-medium);
        }
        
        /* Geanimeerd effect bij klikken */
        .like-button:active svg {
         fill: var(--fill-heart-color-hover);
         transform: scale(1.2);
         transition: 700ms;
        }
        
        /* Als recept is geliket */
        .like-button.liked svg {
         fill: var(--fill-heart-color-hover);
         transform: scale(1.1);
        }
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        /* recept api vormgeving */
        
        
        .recipe-grid {
         display: grid;
         grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
         gap: 50px;
         padding: 20px;
         }
         
         .recipe {
         position: relative;
         display: flex;
         flex-direction: column;
         background: var(--background-recept-cards);
         padding: 15px;
         border-radius: 10px;
         box-shadow: var(--box-shadow);
         }
         
         .recipe h3 {
         margin-top: 20px;
         font-size: 18px;
         font-weight: bold;
         }
         
         .recipe-description {
         font-size: 14px;
         display: -webkit-box;
         -webkit-box-orient: vertical;
         -webkit-line-clamp: 2; /* Laat alleen maar  regels zien (van chat) */
         overflow: hidden;
         }
         
         .recipe button {
         background-color: var(--background-color-button);
         color: var(--text-color-button);
         border: none;
         padding: 10px;
         width: 100%;
         border-radius: var(--border-radius-small);
         cursor: pointer;
         margin-top: auto;
         }
         
         .recipe button:hover {
         background-color: var(--background-color-button-hover);
         }
         
         .recipe-image {
           width: 100%;             /* Zorgt ervoor dat de afbeelding de breedte van de container gebruikt */
           height: 250px;           /* Stel de hoogte in (pas aan naar de gewenste hoogte) */
           object-fit: cover;
         border-radius: var(--border-radius-big);
         position: relative; }
         
         
         /* einde recept grid */
         /* Like functtie */
         .like {
         position: absolute;
         top: 20px;
         right: 20px;
         z-index: 10;
         
         }
         
         
         .like svg {
         cursor: pointer;
         width: 20px;
         height: 20px;
         fill: var(--fill-heart-color);
         transition: transform 0.3s ease, fill 0.3s ease;
         background-color: var(--background-recept-cards);
         padding: 5px;
         border-radius: var(--border-radius-small);
         }
         
         
         .like:active svg {
         fill: var(--fill-heart-color-hover);
         transform: scale(1.2);
         transition: 700ms;
         }
         
         .like-checkbox {
         display: none;
         }
         
         .like-checkbox:checked + label svg {
         fill: var(--fill-heart-color-hover);
         transform: scale(1.1);
         transition: transform 0.5s ease, fill 0.5s ease;
         }
         
         .like-checkbox:not(:checked) + label svg {
         transform: scale(1);
         transition: transform 0.5s ease, fill 0.5s ease;
         }
         /* einde like functie */
         
         
         /* media grid 1e pagina naast elkaar */
         
         /* notifcation  */
         .notification {
           position: fixed;  
           top: 100px;
           right: -400px;
           background: var(--background-color-tag-noti);
           color: var(--color-text-white);
           border-radius:var(--border-radius-small);
           font-size: 14px;
           padding-top: 15px;
           padding-left: 10px;
           padding-right: 10px;
           padding-bottom: 15px;
           transition: right 0.5s ease-in-out, opacity 0.5s ease-in-out;  
           box-shadow: var(--box-shadow);
           z-index: 9999;  
           opacity: 0;
           margin-left: 3em;
         }
         
         .notification.show {
           right: 20px;  
           opacity: 1;  
         }
         
         .notification.hide {
           right: -400px;
           opacity: 0;   
           pointer-events: none;
         }
            
        
        
        </style>
</body>
</html>
